<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html">

    <button class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarText"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
                <h:outputLink class="nav-link" value="start.xhtml">PAS</h:outputLink>
            </li>
            <f:subview id="nbud" rendered="#{utilsBean.isUserInRole('USER_ADMIN')}">

                <li class="nav-item dropdown" >
                    <a class="nav-link dropdown-toggle"
                       href="#"
                       id="navbarUserDropdown"
                       role="button"
                       data-bs-toggle="dropdown"
                       aria-expanded="false">
                        UÅ¼ytkownicy
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarUserDropdown">
                        <li>
                            <h:outputLink class="dropdown-item" value="userList.xhtml">Lista</h:outputLink>
                        </li>
                        <li>
                            <h:outputLink class="dropdown-item" value="addUser.xhtml">Dodaj</h:outputLink>
                        </li>
                    </ul>

                </li>

            </f:subview>

            <f:subview id="nbrd" rendered="#{utilsBean.logedIn}">

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle"
                       href="#"
                       id="navbarRoomDropdown"
                       role="button"
                       data-bs-toggle="dropdown"
                       aria-expanded="false">
                        Pokoje
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarRoomDropdown">
                        <li>
                            <h:outputLink class="dropdown-item" value="roomList.xhtml">Lista</h:outputLink>
                        </li>
                        <li>
                            <h:outputLink class="dropdown-item"
                                          value="addRoom.xhtml"
                                          rendered="#{utilsBean.isUserInRole('RESOURCE_ADMIN')}">
                                Dodaj
                            </h:outputLink>
                        </li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle"
                       href="#"
                       id="navbarReservationDropdown"
                       role="button"
                       data-bs-toggle="dropdown"
                       aria-expanded="false">
                        Rezerwacje
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarReservationDropdown">
                        <li>
                            <h:outputLink class="dropdown-item" value="reservationList.xhtml">Lista</h:outputLink>
                        </li>
                        <li>
                            <h:outputLink class="dropdown-item" value="addReservation.xhtml">Dodaj</h:outputLink>
                        </li>
                    </ul>
                </li>

            </f:subview>

            <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle"
               href="#"
               id="navbarReservationDropdown"
               role="button"
               data-bs-toggle="dropdown"
               aria-expanded="false">
                    #{utilsBean.login}
                </a>
            <ul class="dropdown-menu" aria-labelledby="navbarReservationDropdown">
            <h:form>
                <li class="mb-2 text-center">
                    <h:commandButton class="btn btn-primary"
                                     value="${msg['menu.button.settings']}"
                                     action="#{utilsBean.userSettings}"
                                     rendered="#{utilsBean.logedIn}"/>
                </li>
                <li class="text-center">

                    <h:commandButton class="btn btn-danger"
                                     rendered="#{utilsBean.logedIn}"
                                     value="${msg['menu.button.logout']}"
                                     action="#{utilsBean.invalidateSession}" />

                    <h:commandButton class="btn btn-success"
                                     rendered="#{not utilsBean.logedIn}"
                                     value="${msg['menu.button.login']}"
                                     action="/login.xhtml" />
                </li>
            </h:form>
        </ul>
            </li>
        </ul>
    </div>

</ui:composition>
